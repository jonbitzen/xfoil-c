{
    "name": "XFOIL-devcontainer",
    "build":{
         "dockerfile": "Dockerfile",
         "args": {
             "USER_UID": "1000",
             "USERNAME": "ubuntu"
         }
    },
    "mounts": [
      "source=${localEnv:HOME}/.gitconfig,target=/home/vscode/.gitconfig,type=bind,consistency=cached",
      "source=${localEnv:HOME}/.git-credentials,target=/home/vscode/.git-credentials,type=bind,consistency=cached"
    ],
    "remoteUser": "ubuntu",
    "runArgs": [
        "--net", "host",

        // use a debugger from within the container
        "--cap-add=SYS_PTRACE", "--security-opt", "seccomp=unconfined",

        // run X11 apps from within the container
        "--ipc", "host",
        "--gpus=all",
        "-v", "/tmp/.X11-unix:/tmp/.X11-unix",
        "-v", "/run/user/HOST_UID:/run/user/HOST_UID",
        "-v", "/usr/share/icons:/usr/share/icons",
        "-e", "DISPLAY=${env:DISPLAY}",
        "-e", "QT_X11_NO_MITSHM=1",
        "-e", "DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/HOST_UID/bus",
        "-e", "/var/run/dbus/system_bus_socket:/var/run/dbus/system_bus_socket",
        "-e", "XDG_RUNTIME_DIR=/run/user/HOST_UID",
        "-e", "NVIDIA_DRIVER_CAPABILITIES=display"
    ],
    "customizations": {
        "terminal.integrated.defaultProfile.linux": "bash",
        "extensions": [
            "fortran-lang.linter-gfortran",
            "ms-vscode.cpptools",
            "ms-vscode.cpptools-extension-pack",
            "ms-vscode.cmake-tools", 
            "donjayamanne.githistory", 
            "ms-python.python",
            "ms-python.vscode-pylance", 
            "ms-azuretools.vscode-docker"
        ]
    }
}